<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Unlock Your Link</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
  <div class="bg-white p-8 rounded-lg shadow-lg text-center max-w-md w-full">
    <h1 class="text-2xl font-bold text-gray-800 mb-4">ðŸ”“ Unlock your link</h1>
    
    <div class="w-full bg-gray-300 rounded-full h-4 mb-6">
      <div id="progress-bar" class="bg-blue-600 h-4 rounded-full transition-all duration-500" style="width: 0%;"></div>
    </div>
    
    <p class="text-gray-700 mb-4" id="status-text">Watch ads to unlock the link</p>
    
    <button onclick="startAds()" id="start-button" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed">
      Start Watching Ads
    </button>

    <button onclick="redirectToTelegram()" id="unlock-button" class="mt-4 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded hidden">
      Unlock Now
    </button>
  </div>

  <script>
    const adLinks = [
      "https://example-ad1.com",
      "https://example-ad2.com",
      "https://example-ad3.com"
    ];
    const telegramLink = "https://t.me/yourTelegramChannel";
    
    let currentAd = 0;
    const progressBar = document.getElementById("progress-bar");
    const statusText = document.getElementById("status-text");
    const unlockBtn = document.getElementById("unlock-button");
    const startBtn = document.getElementById("start-button");

    async function startAds() {
      startBtn.disabled = true;

      const progressSteps = [50, 90, 100];
      for (let i = 0; i < adLinks.length; i++) {
        window.open(adLinks[i], "_blank"); // Open ad in new tab
        progressBar.style.width = progressSteps[i] + "%";
        statusText.textContent = `Ad ${i + 1} viewed (${progressSteps[i]}% completed)`;
        await new Promise(resolve => setTimeout(resolve, 3000)); // Wait 3 seconds
      }

      statusText.textContent = "âœ… All ads viewed. Click to unlock your link.";
      unlockBtn.classList.remove("hidden");
    }

    function redirectToTelegram() {
      window.location.href = telegramLink;
    }
  </script>
</body>
</html>
